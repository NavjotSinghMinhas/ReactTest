(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(41)},38:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);a(30);var n=a(1),r=a.n(n),c=a(14),i=a.n(c),s=a(46),u=a(4),o=a(5),l=a(9),h=a(8),p=a(10),d=a(27),m=a(7),f=a(15),b=a(43),g=a(3),v=a.n(g),k=a(25),w=a(6),y=a(19),E="returnUrl",O="message",x="logout-callback",j="logout",S="logged-out",A="login",C="login-callback",R="login-failed",U="profile",I="register",T="/authentication",P={DefaultLoginRedirectPath:"/",ApiAuthorizationClientConfigurationUrl:"/_configuration/".concat("WebApplication4"),ApiAuthorizationPrefix:T,Login:"".concat(T,"/").concat(A),LoginFailed:"".concat(T,"/").concat(R),LoginCallback:"".concat(T,"/").concat(C),Register:"".concat(T,"/").concat(I),Profile:"".concat(T,"/").concat(U),LogOut:"".concat(T,"/").concat(j),LoggedOut:"".concat(T,"/").concat(S),LogOutCallback:"".concat(T,"/").concat(x),IdentityRegisterPath:"/Identity/Account/Register",IdentityManagePath:"/Identity/Account/Manage"},L=new(function(){function e(){Object(u.a)(this,e),this._callbacks=[],this._nextSubscriptionId=0,this._user=null,this._isAuthenticated=!1,this._popUpDisabled=!0}return Object(o.a)(e,[{key:"isAuthenticated",value:function(){var e=Object(w.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUser();case 2:return t=e.sent,e.abrupt("return",!!t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=Object(w.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._user||!this._user.profile){e.next=2;break}return e.abrupt("return",this._user.profile);case 2:return e.next=4,this.ensureUserManagerInitialized();case 4:return e.next=6,this.userManager.getUser();case 6:return t=e.sent,e.abrupt("return",t&&t.profile);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getAccessToken",value:function(){var e=Object(w.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:return e.next=4,this.userManager.getUser();case 4:return t=e.sent,e.abrupt("return",t&&t.access_token);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"signIn",value:function(){var e=Object(w.a)(v.a.mark(function e(t){var a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:return e.prev=2,e.next=5,this.userManager.signinSilent(this.createArguments());case 5:return a=e.sent,this.updateState(a),e.abrupt("return",this.success(t));case 10:if(e.prev=10,e.t0=e.catch(2),console.log("Silent authentication error: ",e.t0),e.prev=13,!this._popUpDisabled){e.next=16;break}throw new Error("Popup disabled. Change 'AuthorizeService.js:AuthorizeService._popupDisabled' to false to enable it.");case 16:return e.next=18,this.userManager.signinPopup(this.createArguments());case 18:return n=e.sent,this.updateState(n),e.abrupt("return",this.success(t));case 23:if(e.prev=23,e.t1=e.catch(13),"Popup window closed"!==e.t1.message){e.next=29;break}return e.abrupt("return",this.error("The user closed the window."));case 29:this._popUpDisabled||console.log("Popup authentication error: ",e.t1);case 30:return e.prev=30,e.next=33,this.userManager.signinRedirect(this.createArguments(t));case 33:return e.abrupt("return",this.redirect());case 36:return e.prev=36,e.t2=e.catch(30),console.log("Redirect authentication error: ",e.t2),e.abrupt("return",this.error(e.t2));case 40:case"end":return e.stop()}},e,this,[[2,10],[13,23],[30,36]])}));return function(t){return e.apply(this,arguments)}}()},{key:"completeSignIn",value:function(){var e=Object(w.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.ensureUserManagerInitialized();case 3:return e.next=5,this.userManager.signinCallback(t);case 5:return a=e.sent,this.updateState(a),e.abrupt("return",this.success(a&&a.state));case 10:return e.prev=10,e.t0=e.catch(0),console.log("There was an error signing in: ",e.t0),e.abrupt("return",this.error("There was an error signing in."));case 14:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(w.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:if(e.prev=2,!this._popUpDisabled){e.next=5;break}throw new Error("Popup disabled. Change 'AuthorizeService.js:AuthorizeService._popupDisabled' to false to enable it.");case 5:return e.next=7,this.userManager.signoutPopup(this.createArguments());case 7:return this.updateState(void 0),e.abrupt("return",this.success(t));case 11:return e.prev=11,e.t0=e.catch(2),console.log("Popup signout error: ",e.t0),e.prev=14,e.next=17,this.userManager.signoutRedirect(this.createArguments(t));case 17:return e.abrupt("return",this.redirect());case 20:return e.prev=20,e.t1=e.catch(14),console.log("Redirect signout error: ",e.t1),e.abrupt("return",this.error(e.t1));case 24:case"end":return e.stop()}},e,this,[[2,11],[14,20]])}));return function(t){return e.apply(this,arguments)}}()},{key:"completeSignOut",value:function(){var e=Object(w.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureUserManagerInitialized();case 2:return e.prev=2,e.next=5,this.userManager.signoutCallback(t);case 5:return a=e.sent,this.updateState(null),e.abrupt("return",this.success(a&&a.data));case 10:return e.prev=10,e.t0=e.catch(2),console.log("There was an error trying to log out '".concat(e.t0,"'.")),e.abrupt("return",this.error(e.t0));case 14:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t){return e.apply(this,arguments)}}()},{key:"updateState",value:function(e){this._user=e,this._isAuthenticated=!!this._user,this.notifySubscribers()}},{key:"subscribe",value:function(e){return this._callbacks.push({callback:e,subscription:this._nextSubscriptionId++}),this._nextSubscriptionId-1}},{key:"unsubscribe",value:function(e){var t=this._callbacks.map(function(t,a){return t.subscription===e?{found:!0,index:a}:{found:!1}}).filter(function(e){return!0===e.found});if(1!==t.length)throw new Error("Found an invalid number of subscriptions ".concat(t.length));this._callbacks.splice(t[0].index,1)}},{key:"notifySubscribers",value:function(){for(var e=0;e<this._callbacks.length;e++){(0,this._callbacks[e].callback)()}}},{key:"createArguments",value:function(e){return{useReplaceToNavigate:!0,data:e}}},{key:"error",value:function(e){return{status:N.Fail,message:e}}},{key:"success",value:function(e){return{status:N.Success,state:e}}},{key:"redirect",value:function(){return{status:N.Redirect}}},{key:"ensureUserManagerInitialized",value:function(){var e=Object(w.a)(v.a.mark(function e(){var t,a,n=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.userManager){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch(P.ApiAuthorizationClientConfigurationUrl);case 4:if((t=e.sent).ok){e.next=7;break}throw new Error("Could not load settings for '".concat("WebApplication4","'"));case 7:return e.next=9,t.json();case 9:(a=e.sent).automaticSilentRenew=!0,a.includeIdTokenInSilentRenew=!0,a.userStore=new y.WebStorageStateStore({prefix:"WebApplication4"}),this.userManager=new y.UserManager(a),this.userManager.events.addUserSignedOut(Object(w.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.userManager.removeUser();case 2:n.updateState(void 0);case 3:case"end":return e.stop()}},e)})));case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}],[{key:"instance",get:function(){return L}}]),e}()),M=L,N={Redirect:"redirect",Success:"success",Fail:"fail"},_=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={isAuthenticated:!1,userName:null},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._subscription=M.subscribe(function(){return e.populateState()}),this.populateState()}},{key:"componentWillUnmount",value:function(){M.unsubscribe(this._subscription)}},{key:"populateState",value:function(){var e=Object(w.a)(v.a.mark(function e(){var t,a,n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([M.isAuthenticated(),M.getUser()]);case 2:t=e.sent,a=Object(k.a)(t,2),n=a[0],r=a[1],this.setState({isAuthenticated:n,userName:r&&r.name});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.isAuthenticated,a=e.userName;if(t){var n="".concat(P.Profile),r={pathname:"".concat(P.LogOut),state:{local:!0}};return this.authenticatedView(a,n,r)}var c="".concat(P.Register),i="".concat(P.Login);return this.anonymousView(c,i)}},{key:"authenticatedView",value:function(e,t,a){return r.a.createElement(n.Fragment,null,r.a.createElement(m.c,null,r.a.createElement(m.d,{tag:b.a,className:"text-dark",to:t},"Hello ",e)),r.a.createElement(m.c,null,r.a.createElement(m.d,{tag:b.a,className:"text-dark",to:a},"Logout")))}},{key:"anonymousView",value:function(e,t){return r.a.createElement(n.Fragment,null,r.a.createElement(m.c,null,r.a.createElement(m.d,{tag:b.a,className:"text-dark",to:e},"Register")),r.a.createElement(m.c,null,r.a.createElement(m.d,{tag:b.a,className:"text-dark",to:t},"Login")))}}]),t}(n.Component),z=(a(38),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).toggleNavbar=a.toggleNavbar.bind(Object(f.a)(a)),a.state={collapsed:!0},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"toggleNavbar",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement(m.e,{className:"navbar-expand-sm navbar-toggleable-sm ng-white border-bottom box-shadow mb-3",light:!0},r.a.createElement(m.b,null,r.a.createElement(m.f,{tag:b.a,to:"/"},"WebApplication4"),r.a.createElement(m.g,{onClick:this.toggleNavbar,className:"mr-2"}),r.a.createElement(m.a,{className:"d-sm-inline-flex flex-sm-row-reverse",isOpen:!this.state.collapsed,navbar:!0},r.a.createElement("ul",{className:"navbar-nav flex-grow"},r.a.createElement(m.c,null,r.a.createElement(m.d,{tag:b.a,className:"text-dark",to:"/"},"Home")),r.a.createElement(m.c,null,r.a.createElement(m.d,{tag:b.a,className:"text-dark",to:"/counter"},"Counter")),r.a.createElement(m.c,null,r.a.createElement(m.d,{tag:b.a,className:"text-dark",to:"/fetch-data"},"Fetch data")),r.a.createElement(_,null))))))}}]),t}(n.Component));z.displayName=z.name;var F=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(z,null),r.a.createElement(m.b,null,this.props.children))}}]),t}(n.Component);F.displayName=F.name;var D=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Hello, world!"),r.a.createElement("p",null,"Welcome to your new single-page application, built with:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://get.asp.net/"},"ASP.NET Core")," and ",r.a.createElement("a",{href:"https://msdn.microsoft.com/en-us/library/67ef8sbd.aspx"},"C#")," for cross-platform server-side code"),r.a.createElement("li",null,r.a.createElement("a",{href:"https://facebook.github.io/react/"},"React")," for client-side code"),r.a.createElement("li",null,r.a.createElement("a",{href:"http://getbootstrap.com/"},"Bootstrap")," for layout and styling")),r.a.createElement("p",null,"To help you get started, we have also set up:"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("strong",null,"Client-side navigation"),". For example, click ",r.a.createElement("em",null,"Counter")," then ",r.a.createElement("em",null,"Back")," to return here."),r.a.createElement("li",null,r.a.createElement("strong",null,"Development server integration"),". In development mode, the development server from ",r.a.createElement("code",null,"create-react-app")," runs in the background automatically, so your client-side resources are dynamically built on demand and the page refreshes when you modify any file."),r.a.createElement("li",null,r.a.createElement("strong",null,"Efficient production builds"),". In production mode, development-time features are disabled, and your ",r.a.createElement("code",null,"dotnet publish")," configuration produces minified, efficiently bundled JavaScript files.")),r.a.createElement("p",null,"The ",r.a.createElement("code",null,"ClientApp")," subdirectory is a standard React application based on the ",r.a.createElement("code",null,"create-react-app")," template. If you open a command prompt in that directory, you can run ",r.a.createElement("code",null,"npm")," commands such as ",r.a.createElement("code",null,"npm test")," or ",r.a.createElement("code",null,"npm install"),"."))}}]),t}(n.Component);D.displayName=D.name;var W=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={forecasts:[],loading:!0},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.populateWeatherData()}},{key:"render",value:function(){var e=this.state.loading?r.a.createElement("p",null,r.a.createElement("em",null,"Loading...")):t.renderForecastsTable(this.state.forecasts);return r.a.createElement("div",null,r.a.createElement("h1",{id:"tabelLabel"},"Weather forecast"),r.a.createElement("p",null,"This component demonstrates fetching data from the server."),e)}},{key:"populateWeatherData",value:function(){var e=Object(w.a)(v.a.mark(function e(){var t,a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getAccessToken();case 2:return t=e.sent,e.next=5,fetch("weatherforecast",{headers:t?{Authorization:"Bearer ".concat(t)}:{}});case 5:return a=e.sent,e.next=8,a.json();case 8:n=e.sent,this.setState({forecasts:n,loading:!1});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}],[{key:"renderForecastsTable",value:function(e){return r.a.createElement("table",{className:"table table-striped","aria-labelledby":"tabelLabel"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Temp. (C)"),r.a.createElement("th",null,"Temp. (F)"),r.a.createElement("th",null,"Summary"))),r.a.createElement("tbody",null,e.map(function(e){return r.a.createElement("tr",{key:e.date},r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.temperatureC),r.a.createElement("td",null,e.temperatureF),r.a.createElement("td",null,e.summary))})))}}]),t}(n.Component);W.displayName=W.name;var B=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={currentCount:0},a.incrementCounter=a.incrementCounter.bind(Object(f.a)(a)),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"incrementCounter",value:function(){this.setState({currentCount:this.state.currentCount+1})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Counter"),r.a.createElement("p",null,"This is a simple example of a React component."),r.a.createElement("p",{"aria-live":"polite"},"Current count: ",r.a.createElement("strong",null,this.state.currentCount)),r.a.createElement("button",{className:"btn btn-primary",onClick:this.incrementCounter},"Increment"))}}]),t}(n.Component);B.displayName=B.name;var V=a(26),H=a(44),J=a(45),Y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={ready:!1,authenticated:!1},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._subscription=M.subscribe(function(){return e.authenticationChanged()}),this.populateAuthenticationState()}},{key:"componentWillUnmount",value:function(){M.unsubscribe(this._subscription)}},{key:"render",value:function(){var e=this.state,t=e.ready,a=e.authenticated,n="".concat(P.Login,"?").concat(E,"=").concat(encodeURI(window.location.href));if(t){var c=this.props,i=c.component,s=Object(V.a)(c,["component"]);return r.a.createElement(H.a,Object.assign({},s,{render:function(e){return a?r.a.createElement(i,e):r.a.createElement(J.a,{to:n})}}))}return r.a.createElement("div",null)}},{key:"populateAuthenticationState",value:function(){var e=Object(w.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.isAuthenticated();case 2:t=e.sent,this.setState({ready:!0,authenticated:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"authenticationChanged",value:function(){var e=Object(w.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({ready:!1,authenticated:!1}),e.next=3,this.populateAuthenticationState();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),q=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={message:void 0},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.action;switch(e){case A:this.login(this.getReturnUrl());break;case C:this.processLoginCallback();break;case R:var t=new URLSearchParams(window.location.search).get(O);this.setState({message:t});break;case U:this.redirectToProfile();break;case I:this.redirectToRegister();break;default:throw new Error("Invalid action '".concat(e,"'"))}}},{key:"render",value:function(){var e=this.props.action,t=this.state.message;if(t)return r.a.createElement("div",null,t);switch(e){case A:return r.a.createElement("div",null,"Processing login");case C:return r.a.createElement("div",null,"Processing login callback");case U:case I:return r.a.createElement("div",null);default:throw new Error("Invalid action '".concat(e,"'"))}}},{key:"login",value:function(){var e=Object(w.a)(v.a.mark(function e(t){var a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={returnUrl:t},e.next=3,M.signIn(a);case 3:n=e.sent,e.t0=n.status,e.next=e.t0===N.Redirect?7:e.t0===N.Success?8:e.t0===N.Fail?11:13;break;case 7:return e.abrupt("break",14);case 8:return e.next=10,this.navigateToReturnUrl(t);case 10:return e.abrupt("break",14);case 11:return this.setState({message:n.message}),e.abrupt("break",14);case 13:throw new Error("Invalid status result ".concat(n.status,"."));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"processLoginCallback",value:function(){var e=Object(w.a)(v.a.mark(function e(){var t,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.href,e.next=3,M.completeSignIn(t);case 3:a=e.sent,e.t0=a.status,e.next=e.t0===N.Redirect?7:e.t0===N.Success?8:e.t0===N.Fail?11:13;break;case 7:throw new Error("Should not redirect.");case 8:return e.next=10,this.navigateToReturnUrl(this.getReturnUrl(a.state));case 10:return e.abrupt("break",14);case 11:return this.setState({message:a.message}),e.abrupt("break",14);case 13:throw new Error("Invalid authentication result status '".concat(a.status,"'."));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getReturnUrl",value:function(e){var t=new URLSearchParams(window.location.search).get(E);if(t&&!t.startsWith("".concat(window.location.origin,"/")))throw new Error("Invalid return url. The return url needs to have the same origin as the current page.");return e&&e.returnUrl||t||"".concat(window.location.origin,"/")}},{key:"redirectToRegister",value:function(){this.redirectToApiAuthorizationPath("".concat(P.IdentityRegisterPath,"?").concat(E,"=").concat(encodeURI(P.Login)))}},{key:"redirectToProfile",value:function(){this.redirectToApiAuthorizationPath(P.IdentityManagePath)}},{key:"redirectToApiAuthorizationPath",value:function(e){var t="".concat(window.location.origin).concat(e);window.location.replace(t)}},{key:"navigateToReturnUrl",value:function(e){window.location.replace(e)}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={message:void 0,isReady:!1,authenticated:!1},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.action;switch(e){case j:window.history.state.state.local?this.logout(this.getReturnUrl()):this.setState({isReady:!0,message:"The logout was not initiated from within the page."});break;case x:this.processLogoutCallback();break;case S:this.setState({isReady:!0,message:"You successfully logged out!"});break;default:throw new Error("Invalid action '".concat(e,"'"))}this.populateAuthenticationState()}},{key:"render",value:function(){var e=this.state,t=e.isReady,a=e.message;if(!t)return r.a.createElement("div",null);if(a)return r.a.createElement("div",null,a);var n=this.props.action;switch(n){case j:return r.a.createElement("div",null,"Processing logout");case x:return r.a.createElement("div",null,"Processing logout callback");case S:return r.a.createElement("div",null,a);default:throw new Error("Invalid action '".concat(n,"'"))}}},{key:"logout",value:function(){var e=Object(w.a)(v.a.mark(function e(t){var a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={returnUrl:t},e.next=3,M.isAuthenticated();case 3:if(!e.sent){e.next=20;break}return e.next=7,M.signOut(a);case 7:n=e.sent,e.t0=n.status,e.next=e.t0===N.Redirect?11:e.t0===N.Success?12:e.t0===N.Fail?15:17;break;case 11:return e.abrupt("break",18);case 12:return e.next=14,this.navigateToReturnUrl(t);case 14:return e.abrupt("break",18);case 15:return this.setState({message:n.message}),e.abrupt("break",18);case 17:throw new Error("Invalid authentication result status.");case 18:e.next=21;break;case 20:this.setState({message:"You successfully logged out!"});case 21:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"processLogoutCallback",value:function(){var e=Object(w.a)(v.a.mark(function e(){var t,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.href,e.next=3,M.completeSignOut(t);case 3:a=e.sent,e.t0=a.status,e.next=e.t0===N.Redirect?7:e.t0===N.Success?8:e.t0===N.Fail?11:13;break;case 7:throw new Error("Should not redirect.");case 8:return e.next=10,this.navigateToReturnUrl(this.getReturnUrl(a.state));case 10:return e.abrupt("break",14);case 11:return this.setState({message:a.message}),e.abrupt("break",14);case 13:throw new Error("Invalid authentication result status.");case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"populateAuthenticationState",value:function(){var e=Object(w.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.isAuthenticated();case 2:t=e.sent,this.setState({isReady:!0,authenticated:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getReturnUrl",value:function(e){var t=new URLSearchParams(window.location.search).get(E);if(t&&!t.startsWith("".concat(window.location.origin,"/")))throw new Error("Invalid return url. The return url needs to have the same origin as the current page.");return e&&e.returnUrl||t||"".concat(window.location.origin).concat(P.LoggedOut)}},{key:"navigateToReturnUrl",value:function(e){return window.location.replace(e)}}]),t}(n.Component),K=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(d.a,{path:P.Login,render:function(){return Q(A)}}),r.a.createElement(d.a,{path:P.LoginFailed,render:function(){return Q(R)}}),r.a.createElement(d.a,{path:P.LoginCallback,render:function(){return Q(C)}}),r.a.createElement(d.a,{path:P.Profile,render:function(){return Q(U)}}),r.a.createElement(d.a,{path:P.Register,render:function(){return Q(I)}}),r.a.createElement(d.a,{path:P.LogOut,render:function(){return X(j)}}),r.a.createElement(d.a,{path:P.LogOutCallback,render:function(){return X(x)}}),r.a.createElement(d.a,{path:P.LoggedOut,render:function(){return X(S)}}))}}]),t}(n.Component);function Q(e){return r.a.createElement(q,{action:e})}function X(e){return r.a.createElement(G,{action:e})}a(40);var Z=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(F,null,r.a.createElement(d.a,{exact:!0,path:"/",component:D}),r.a.createElement(d.a,{path:"/counter",component:B}),r.a.createElement(Y,{path:"/fetch-data",component:W}),r.a.createElement(d.a,{path:P.ApiAuthorizationPrefix,component:K}))}}]),t}(n.Component);Z.displayName=Z.name;var $=document.getElementsByTagName("base")[0].getAttribute("href"),ee=document.getElementById("root");i.a.render(r.a.createElement(s.a,{basename:$},r.a.createElement(Z,null)),ee)}},[[29,1,2]]]);
//# sourceMappingURL=main.6371cd8e.chunk.js.map